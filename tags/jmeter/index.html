<!doctype html><html lang=en dir=auto>
<head><meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no">
<meta name=robots content="index, follow">
<title>Jmeter | 德瑞克的實驗室</title>
<meta name=keywords content>
<meta name=description content="德瑞克雜記。">
<meta name=author content="Me">
<link rel=canonical href=https://chzlab.net/tags/jmeter/>
<meta name=google-site-verification content="XYZabc">
<link crossorigin=anonymous href=/assets/css/stylesheet.min.c88963fe2d79462000fd0fb1b3737783c32855d340583e4523343f8735c787f0.css integrity="sha256-yIlj/i15RiAA/Q+xs3N3g8MoVdNAWD5FIzQ/hzXHh/A=" rel="preload stylesheet" as=style>
<link rel=preload href=/favicon.png as=image>
<link rel=icon href=https://chzlab.net/favicon.png>
<link rel=icon type=image/png sizes=16x16 href=https://chzlab.net/favicon-16x16.png>
<link rel=icon type=image/png sizes=32x32 href=https://chzlab.net/favicon-32x32.png>
<link rel=apple-touch-icon href=https://chzlab.net/apple-touch-icon.png>
<link rel=mask-icon href=https://chzlab.net/safari-pinned-tab.svg>
<meta name=theme-color content="#2e2e33">
<meta name=msapplication-TileColor content="#2e2e33">
<meta name=generator content="Hugo 0.91.2">
<link rel=alternate type=application/rss+xml href=https://chzlab.net/tags/jmeter/index.xml>
<noscript>
<style>#theme-toggle,.top-link{display:none}</style>
<style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style>
</noscript>
<script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(a,e,f,g,b,c,d){a.GoogleAnalyticsObject=b,a[b]=a[b]||function(){(a[b].q=a[b].q||[]).push(arguments)},a[b].l=1*new Date,c=e.createElement(f),d=e.getElementsByTagName(f)[0],c.async=1,c.src=g,d.parentNode.insertBefore(c,d)}(window,document,'script','https://www.google-analytics.com/analytics.js','ga'),ga('create','UA-167958842-1','auto'),ga('send','pageview'))</script><meta property="og:title" content="Jmeter">
<meta property="og:description" content="德瑞克雜記。">
<meta property="og:type" content="website">
<meta property="og:url" content="https://chzlab.net/tags/jmeter/"><meta property="og:image" content="https://chzlab.net/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="og:site_name" content="Deric's BLOG">
<meta name=twitter:card content="summary_large_image">
<meta name=twitter:image content="https://chzlab.net/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E">
<meta name=twitter:title content="Jmeter">
<meta name=twitter:description content="德瑞克雜記。">
</head>
<body class=list id=top>
<script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add('dark'):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove('dark'):window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script>
<header class=header>
<nav class=nav>
<div class=logo>
<a href=https://chzlab.net/ accesskey=h title="Deric's BLOG (Alt + H)">
<img src=https://chzlab.net/favicon.png alt=logo aria-label=logo height=35>Deric's BLOG</a>
<span class=logo-switches>
<button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>
</button>
</span>
</div>
<ul id=menu>
<li>
<a href=https://chzlab.net/archives/ title=Archive>
<span>Archive</span>
</a>
</li>
<li>
<a href=https://chzlab.net/tags/ title=Tags>
<span>Tags</span>
</a>
</li>
<li>
<a href=https://chzlab.net/index.xml title="RSS Feed">
<span>RSS Feed</span>
</a>
</li>
</ul>
</nav>
</header>
<main class=main>
<header class=page-header><div class=breadcrumbs><a href=https://chzlab.net/>Home</a>&nbsp;»&nbsp;<a href=https://chzlab.net/tags/>Tags</a></div>
<h1>Jmeter</h1>
</header>
<article class="post-entry tag-entry">
<header class=entry-header>
<h2>JMeter 情境筆記
</h2>
</header>
<section class=entry-content>
<p>記錄自己常用的 JMeter 設定情境
常用元件 Test Plan 設定變數 (可以 call java func) 若希望一個做完 Thread Group 才做下一個 Thread Group 可以勾選 (Run Thread Groups consecutively) Thread Group 需要多少個 User (thread) 每個 thread 持續時間， Ramp-up 時間，用於模擬 User 逐漸上升的狀況 設定執行次數 (Loop Controller 也可以達成相同的效果) 例： 每個 User 持續 20 秒，並在 5 秒達到總共 10 個 User， 因 Loop Count 設定 infinite 時，就是看 User 的持續時間， 這邊就是跑 20 秒，不管次數了，若有設定 count 就是跑幾次結束。
Loop Controller 設定次數 Transaction Controller 用於需要依序步驟的處理，常見案例：登入拿 token ，根據取得 token 呼叫下一支 API 如果啟用 Generate parent sample ，報表顯示上會將同一個 Transaction group by 一起，比較好閱讀 HTTP Request 常搭配 HTTP Header Manager JSON Extractor 放在 Http Requset 之後或裡面，把 JSON Response 需要的值轉成變數在後面使用 View Results Tree 報表，可以細看每次的 req/res 結果 根據放的區塊不同，記錄的範圍不一樣 例：你呼叫兩隻 API，若你想分開看，就在各自的 HTTP Request 裡面新增，這樣就會有獨立的紀錄。大多數的元件邏輯都相同。 Aggregate Report、Summary Report 常看的欄位 P90：90% User 的位於的 Response 區間 Throughput：rps (Request per Second) 每秒的承載量，若表示該 API 能承受的請求量，越高越好。 Error Summary Report 我會放在最外層，這樣可以大概看一下，多個 testcase 跑完，整體的狀況 Graph Results、Aggregate Graph 可以用來協助確認在哪個時間點，API 速率有明顯變化 Assertion 檢查用，確認回傳是否符合預期 情境 想要知道 API 在 10 個 user 下 qps 的狀況 設定如下 - Thread Group - Http Request - View Result Tree - Aggregate Report 看 Report 中 P90 、Error、Throughput...</p>
</section>
<footer class=entry-footer><span title="2022-07-22 19:48:39 +0000 UTC">July 22, 2022</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;Me</footer>
<a class=entry-link aria-label="post link to JMeter 情境筆記" href=https://chzlab.net/2022/07/22/jmeter-%E6%83%85%E5%A2%83%E7%AD%86%E8%A8%98/></a>
</article>
</main>
<footer class=footer>
<span>&copy; 2022 <a href=https://chzlab.net/>德瑞克的實驗室</a></span>
<span>
Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a>
</span>
</footer>
<a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a>
<script>let menu=document.getElementById('menu');menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"smooth"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})})</script>
<script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script>
<script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script>
</body>
</html>